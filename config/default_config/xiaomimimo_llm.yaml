# ============================================
# 小米 MiMo LLM 工厂配置（随端口变化）
# ============================================
# 此配置文件为小米MiMo大语言模型配置，每个端口有独立的配置
# 位置：data/server_bots/{port}/xiaomimimo_llm.yaml
# 注意：仅文本模型，不包含识图逻辑
# 小米 MiMo API 兼容 OpenAI Chat Completions 格式

# ----------------------------------------
# API 基础配置
# ----------------------------------------
# API基础地址
baseUrl: "https://api.xiaomimimo.com/v1"
# API密钥
apiKey: ""
# 认证方式（api-key 或 bearer）
authMode: "api-key"
# 接口路径
path: "/chat/completions"

# ----------------------------------------
# 模型配置
# ----------------------------------------
# 文本聊天模型（支持：mimo-v2-flash、mimo-v2 等）
chatModel: "mimo-v2-flash"

# ----------------------------------------
# API 参数配置
# ----------------------------------------
# 温度参数（0-2），值越高越随机
temperature: 0.7
# 最大输出token数（注意：MiMo 使用 max_completion_tokens）
maxTokens: 4096
# Top-p采样（0-1）
topP: 0.95
# 存在惩罚（-2.0到2.0）
presencePenalty: 0
# 频率惩罚（-2.0到2.0）
frequencyPenalty: 0
# 请求超时时间（毫秒）
timeout: 360000

# ----------------------------------------
# Tool Calling（由系统自动注入 MCP tools，无需手写 tools 列表）
# ----------------------------------------
enableTools: true
toolChoice: "auto"
# 最大工具调用轮次（默认 7，给模型一定的纠错空间，仍有限制防止死循环）
maxToolRounds: 7
# 是否允许并行工具调用（若服务端不支持会忽略）
parallelToolCalls: true

# ----------------------------------------
# Stream 流式输出配置
# ----------------------------------------
# 是否启用流式输出（默认启用）
# 只有当工厂和运营商都支持 stream 时，流式输出才会生效
enableStream: true
